body { padding-top: 10px; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
.container-fluid { flex: 1; display: flex; flex-direction: column; overflow: hidden; }

/* Navbar Tweaks */
.navbar { padding-top: 0.25rem; padding-bottom: 0.25rem; min-height: 40px; }
.navbar-brand { font-weight: bold; font-size: 1.25rem; color: #0d6efd !important; }

/* Layout */
.editor-container { display: flex; flex: 1; overflow: hidden; border: 1px solid #dee2e6; border-radius: 4px; margin-bottom: 10px; }

/* Sidebar (Left) */
.sidebar { width: 250px; overflow-y: auto; border-right: 1px solid #dee2e6; background: #f8f9fa; display: flex; flex-direction: column; }
.sidebar-header { padding: 10px; border-bottom: 1px solid #dee2e6; font-weight: bold; background: #e9ecef; font-size: 0.9rem; }
.segment-list { flex: 1; overflow-y: auto; }
.segment-item { cursor: pointer; padding: 8px 10px; border-bottom: 1px solid #eee; font-size: 0.85rem; line-height: 1.3; }
.segment-item:hover { background-color: #e9ecef; }
.segment-item.active { background-color: #e7f1ff; color: #000; border-left: 4px solid #0d6efd; }
.segment-item.translated { border-left: 4px solid #198754; }
.segment-item.translated.active { border-left: 4px solid #0d6efd; border-right: 4px solid #198754; }

/* Sidebar (Right) */
.right-sidebar { width: 280px; overflow-y: auto; border-left: 1px solid #dee2e6; background: #fff; display: flex; flex-direction: column; }
.right-sidebar-top { flex: 1; border-bottom: 1px solid #dee2e6; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; }
.right-sidebar-bottom { height: 40%; min-height: 200px; overflow-y: auto; padding: 10px; background: #f8f9fa; }

/* Main Editor */
.main-editor { flex: 1; display: flex; flex-direction: column; padding: 0; background: #fff; }

/* Toolbar */
.editor-toolbar { padding: 5px 10px; border-bottom: 1px solid #dee2e6; background: #f8f9fa; display: flex; align-items: center; gap: 5px; }
.btn-icon { padding: 4px 8px; display: inline-flex; align-items: center; gap: 4px; font-size: 0.85rem; }
.btn-icon i { width: 16px; height: 16px; }

/* Work Area */
.work-area { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }

/* Context */
.context-panel { background: #fff3cd; border: 1px solid #ffeeba; padding: 8px; font-size: 0.85rem; border-radius: 4px; color: #856404; display: none; margin-bottom: 5px; }
.context-panel.show { display: block; }

.source-card { background: #f8f9fa; border: 1px solid #dee2e6; padding: 10px; border-radius: 4px; font-size: 1rem; min-height: 60px; }
.target-editor { width: 100%; min-height: 100px; resize: vertical; font-family: inherit; font-size: 1rem; }
.note-editor { width: 100%; height: 50px; resize: vertical; font-size: 0.9rem; }
.notes-container { display: none; margin-top: 10px; }
.notes-container.show { display: block; }

/* Styles for Right Sidebar items */
.info-section { margin-bottom: 15px; }
.info-label { font-weight: 600; color: #6c757d; font-size: 0.8rem; text-transform: uppercase; margin-bottom: 4px; display: block; }
.info-card { background: #fff; border: 1px solid #dee2e6; padding: 8px; border-radius: 4px; font-size: 0.9rem; }
.info-card.warning { background: #fff3cd; border-color: #ffeeba; color: #856404; }

/* Progress */
.progress-container { margin-left: auto; display: flex; align-items: center; gap: 10px; font-size: 0.85rem; }
.progress { width: 100px; height: 10px; }

/* Dark Mode Overrides */
[data-bs-theme="dark"] .sidebar, 
[data-bs-theme="dark"] .right-sidebar,
[data-bs-theme="dark"] .right-sidebar-bottom {
    background-color: #212529 !important;
    border-color: #495057 !important;
    color: #dee2e6;
}
[data-bs-theme="dark"] .sidebar-header,
[data-bs-theme="dark"] .info-header,
[data-bs-theme="dark"] .editor-toolbar {
    background-color: #343a40 !important;
    border-color: #495057 !important;
    color: #dee2e6;
}
[data-bs-theme="dark"] .source-card,
[data-bs-theme="dark"] .info-card {
    background-color: #2b3035 !important;
    border-color: #495057 !important;
    color: #dee2e6;
}
[data-bs-theme="dark"] .segment-item {
    border-bottom-color: #495057 !important;
    color: #dee2e6;
}
[data-bs-theme="dark"] .segment-item:hover {
    background-color: #343a40;
}
[data-bs-theme="dark"] .segment-item.active {
    background-color: #0d6efd;
    color: #fff;
}
[data-bs-theme="dark"] .segment-item.translated {
    border-left-color: #198754;
}
[data-bs-theme="dark"] .main-editor {
    background-color: #212529;
}
[data-bs-theme="dark"] textarea {
    background-color: #2b3035;
    color: #fff;
    border-color: #495057;
}
[data-bs-theme="dark"] .bg-light {
    background-color: #2b3035 !important;
}

/* Locked State */
.segment-item.locked {
    background-color: #f8f9fa;
    color: #6c757d;
    cursor: not-allowed;
}
[data-bs-theme="dark"] .segment-item.locked {
    background-color: #343a40;
    color: #6c757d;
}

.locked-overlay {
    position: relative;
    opacity: 0.6;
    pointer-events: none;
}

.lock-badge {
    vertical-align: middle;
}
